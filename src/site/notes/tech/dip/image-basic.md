---
{"dg-publish":true,"dg-permalink":"tech/dip/image-basic.md","permalink":"/tech/dip/image-basic.md/"}
---


# Image Basic

<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 853.083984375 162.77008056640625" width="1706.16796875" height="325.5401611328125">  <!-- svg-source:excalidraw -->  <!-- payload-type:application/vnd.excalidraw+json --><!-- payload-version:2 --><!-- payload-start -->eyJ2ZXJzaW9uIjoiMSIsImVuY29kaW5nIjoiYnN0cmluZyIsImNvbXByZXNzZWQiOnRydWUsImVuY29kZWQiOiJ4nOVa23LaSFx1MDAxMH33V1Dsq63M/ZI3XHUwMDFi39d24luczVZqS4BcdTAwMDBcdTAwMTkhaSVcdTAwMTFcdTAwMWJS/vftXHUwMDExXHUwMDE4XHRcdTAwMDEydoKDN3aVXHIzI6anp8/pMz1836hUqskgdKrvK1XnvmF7bjOy76qbpv2bXHUwMDEzxW7gQ1x1MDAxN0nfx0E/aqQjO0lcdTAwMTLG79+9s8PQartJPVxiulYj6I1cdTAwMWVzPKfn+ElcZlx1MDAwM/+G95XK9/RvbqLEuU/SsWlrblx1MDAxYcGKrWeBn06pXHUwMDE0J4xJRSdcdTAwMDPceFx1MDAxN2ZKnCb0tmwvdrJcdTAwMWXTVD3YXHUwMDFmki815+6k2b5p7Nb0p7+89lU2a8v1vMtk4KVcdTAwMDbFXHUwMDAxrDvri5Mo6Do3bjPpPC4+177oqSjotzu+XHUwMDEzm4XjSWtcdTAwMTDaXHI3XHUwMDE5mDaEJq22304/I2u5T0dIbSGpXHUwMDA0pkRhwiedg9Q5wlx1MDAxMowwwjmVXHUwMDE4aVYwq1x1MDAxNnhBZMz6XHUwMDAzO+Y3M6xuN7ptsM5vTsYkke3HoVx1MDAxZME+ZePuxlx1MDAwYubSUlxca85cdTAwMTSlWjEqM0M6jtvuJMaarC120j3AQoNRiCA56TGThkfNNFx1MDAxMr5mno/snnNkXHUwMDFl8fuel3ef31x1MDAxY7tvqqNuOvaKQZVcdTAwMGas3K47R7R9fICjXf+wd9FcIk58wS8zV0xFoVx1MDAxZEXBXXXS8zB+lVx1MDAxOdpcdTAwMGab9ii+sCRMUCFcdTAwMTFcdTAwMTMs87vn+t2isV7Q6M5cdMlW4CeX7tDMS9BU677dc73BVMik8Fx1MDAwMFx1MDAwM496dju3jaZ523PbXHUwMDA2KVXPaU1DKHFcdTAwMDG8k+4kXGKz3lx1MDAwNkxju75cdTAwMTPNOj2I3Lbr297V/Clhhc7h45ZjK7fpdTt2TK9pV2njw+bzwM41KrY+gp0hzCnXWC9ccnalXHUwMDBmPqOzrS/73fr5yfFcdTAwMTa5IUnrer3BLlx1MDAxNbFcdTAwMDDNTFx1MDAxMyG5XHUwMDA0uFx1MDAxN9BOLS2ZXHUwMDE0WFx1MDAwYqI0XHUwMDEyK0O7lFx1MDAxNsJaXHUwMDEzqaXimIvMjjKwKyxcYlVcdTAwMWFnfPxcdTAwMGLA/ufpzb2+rjVOP91edJKjXHUwMDFkgptubTmwb5Z97tBN9r7p+t69zbc+XHUwMDFmke3Tqygkb5RELu1eXGJztF+XR2ZnXSWVlOhcdTAwMDZcIiFQtaLLU4l7271cdTAwMWVcZlx1MDAwN1x1MDAwN96X1vl+8mGn0/hY89abSjSSlkSUXG6NXHUwMDE5XHUwMDEyc3RcdTAwMDNcdTAwMDPBQJXCXG5YdXW6XHUwMDAxXHUwMDEzZlx0rYGtMIQ5VsvpXHUwMDA2wZRcdTAwMDCZQX4pk/xcdTAwMDDiS5nk/yRHzvu2n7hDOzGge1U2mT/zKlx1MDAxOVx1MDAwNTNRbH1kXHUwMDE0LJSQjKNnUMrZKZde/Xq4Nzjl9J/t490otMl6U4ogwqKg/1x1MDAxMZIzJ1x1MDAxMThcdTAwMTVYcDxQXHUwMDE4XHUwMDA0P5Za6IJVP49RXGJcdTAwMDZiXHUwMDAzRlx1MDAwMX3CXG4yqFxcnFBcdTAwMDTPrJxRyrBcdCc0XCLzsbpSbJ5cdTAwMTlv1IOoYvvNyq5cdTAwMWIntlx01ldcdTAwMDXpXHUwMDEzJqw0/yO1XHUwMDEwrbBcdTAwMWJcdTAwMTgjRTOfPYXWk4vr3rXDdm7kyfa/t71+f7972113tFKLcVxuXHRhdGTPksJIXHUwMDAxwEmDcElcdTAwMTUnnK7yLIFBiIDEUHCSYFxi0SXxSpBgXHUwMDFjY8kzXCJ5W4eJtUvVNeh2/b5cdTAwMWL049clgblcdTAwMTOvXHUwMDEy+kpcdTAwMTdcdTAwMWInyMdcdTAwMWGyNM84+CncJ52TWu9DfHY4bO+Ezrm6XHUwMDFi8tbxeuOeMmpcdTAwMDHUuKKSIUJncM8sRjWlXHUwMDE4cSbycvyn52lQ/lx1MDAwNHDPsMZcbtyeZd7SgiEhmmhKVl4wLM3TXHUwMDA05bLHq5T0Kq0o6FUuXHUwMDFj26vcXHUwMDA0kdd8XYg+YcLPXHUwMDAw64hcdTAwMWbnyWq1OFEj+OFcdTAwMTLz5Sv85Yy9loCVjFiMUDWnvJ/W4Vx1MDAxOOdCKSZcdTAwMDVfXZIm2oKwXHUwMDE3Y6Tm7ZiAXHUwMDE1WYRcIs0lmupcdTAwMWXjViompoj1xajNsvBj6JBxy0O2uueAXHUwMDE5sbzkeFx1MDAwNphBrUbJjus3Tc1qyrDxbdbRXHUwMDEy0jCFf6NcdTAwMWanXHUwMDBlxFx1MDAxNPyEJTKyXHUwMDBiKC5zl3GYXHUwMDFkplx0ylx1MDAxMlx1MDAxOJlbLY602fHZxTt+82mjymvfOaO2kIWUVohcdTAwMTNzvcOwokzNWlx1MDAwNaYzoSUxXHUwMDA28Vx1MDAxOYs8O05qQa/nJuD5j4HrJ0VcdTAwMGanrtw2XGbQceyZ7YdcdTAwMTXl+4pUXHUwMDExmk+clmrZq0pcdTAwMDam9M3k9dfNuaNcdTAwMTdcdTAwMDZ6+nQ+xLNP2sj/fz6/iYX8xlx1MDAxNMwkhFxcnt7Ka1JrSW9KQkxrJlx1MDAxMcFs+uJwRHHKXHUwMDAyOaIg57PU8aujOGFcdTAwMDGLKiWFXsRwM2pcdTAwMDTkXHUwMDEzJYDYbPDvw2tLU1xikFx1MDAwM6fjU2RcdTAwMWVPj+RcdTAwMDHZjVx1MDAxMkhuXGboJS1Fv4zSymvwU/bAwVxuy/FcctqsQdqCfZVcdTAwMTJkptG/b5vNXHUwMDE2xHTh4Vx1MDAxZiQwtfAmhSuBXHUwMDE1gDvDx1NcdTAwMDRWXvxeS1x1MDAwMsOIwZnJXHUwMDFjXHUwMDFjhbkrmWEwRSxEXHUwMDEwMckzzSmrYzBqaU5cYuiHQlx1MDAwMTan0ThcdTAwMTiikSSjVF0kNDj5waNS/Y589lxm/qCUIUyJkVx1MDAwMZTkdjTPaUhjXHUwMDAyKo2rNFwiXkZp5V9HmlZpXHUwMDE4S4UwZEnImIJJOccoZFx0isch+rZpbUGgm5+tYow/k+ZcdTAwMTbe7uS+RjZTL1x1MDAxNuBvXHLbvTTNbX+gw6bbv7pcIoef77bxUXvv/ORmvWlcdTAwMGX0XHUwMDE38JjGII8lN0WYbLWjXHUwMDBiXHUwMDFlZZHHpLkyisNcXIA+10pcIlGsT5VUjZSp64nVf8msjL5cYlx1MDAwNatfQl8/UDPad+ykXHUwMDFmOa9cXM9dNPezqkRcdTAwMWJj8FftMLxMwJdcdTAwMTOahM1zm2OHZHZUv7nO3U55NG2MUW/g5aQ56mHj4T+vppEuIn0=<!-- payload-end -->  <defs>    <style class="style-fonts">      @font-face {        font-family: "Virgil";        src: url("https://unpkg.com/@excalidraw/excalidraw@undefined/dist/excalidraw-assets/Virgil.woff2");      }      @font-face {        font-family: "Cascadia";        src: url("https://unpkg.com/@excalidraw/excalidraw@undefined/dist/excalidraw-assets/Cascadia.woff2");      }      @font-face {        font-family: "Assistant";        src: url("https://unpkg.com/@excalidraw/excalidraw@undefined/dist/excalidraw-assets/Assistant-Regular.woff2");      }    </style>      </defs>  <rect x="0" y="0" width="853.083984375" height="162.77008056640625" fill="transparent"/><g transform="translate(765.2240295410156 34.41668701171875) rotate(0 28.929977416992188 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Image</text></g><g transform="translate(468.3879089355469 31.7490234375) rotate(0 38.50996398925781 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Sampling</text></g><g transform="translate(593.8487854003906 34.24530029296875) rotate(0 62.349945068359375 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Quantization</text></g><g transform="translate(312.5287170410156 107.77008056640625) rotate(0 108.89990997314453 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Neighbor and Distance</text></g><g transform="translate(309.59912109375 30) rotate(0 53.67993927001953 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Continuious</text></g><g transform="translate(30 32.213592529296875) rotate(0 112.12992095947266 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Image from Real World</text></g><g stroke-linecap="round"><g transform="translate(428.5692443847656 44.788818359375) rotate(0 14.835845947265625 0.115478515625)"><path d="M0.27 0.35 C5.13 0.41, 24.53 0.82, 29.4 0.78 M-0.25 0.06 C4.76 0.21, 25.62 0, 30.49 0.09" stroke="#1e1e1e" stroke-width="2" fill="none"/></g><g transform="translate(428.5692443847656 44.788818359375) rotate(0 14.835845947265625 0.115478515625)"><path d="M16.54 5.13 C21.83 2.98, 26.92 1.31, 30.49 0.09 M16.54 5.13 C20.32 3.48, 24.61 2.25, 30.49 0.09" stroke="#1e1e1e" stroke-width="2" fill="none"/></g><g transform="translate(428.5692443847656 44.788818359375) rotate(0 14.835845947265625 0.115478515625)"><path d="M16.56 -5.02 C21.89 -3.65, 26.97 -1.81, 30.49 0.09 M16.56 -5.02 C20.3 -3.87, 24.59 -2.31, 30.49 0.09" stroke="#1e1e1e" stroke-width="2" fill="none"/></g></g><mask/><g stroke-linecap="round"><g transform="translate(557.8401184082031 46.1680908203125) rotate(0 13.44244384765625 0)"><path d="M-0.38 0.51 C4.16 0.66, 22.14 0.4, 26.75 0.34 M0.42 0.3 C4.92 0.33, 21.8 -0.27, 26.25 -0.45" stroke="#1e1e1e" stroke-width="2" fill="none"/></g><g transform="translate(557.8401184082031 46.1680908203125) rotate(0 13.44244384765625 0)"><path d="M13.8 4.62 C17.09 3.42, 19.52 3.01, 26.25 -0.45 M13.8 4.62 C17.82 2.97, 22.13 1.44, 26.25 -0.45" stroke="#1e1e1e" stroke-width="2" fill="none"/></g><g transform="translate(557.8401184082031 46.1680908203125) rotate(0 13.44244384765625 0)"><path d="M13.46 -4.57 C16.77 -3.82, 19.27 -2.28, 26.25 -0.45 M13.46 -4.57 C17.55 -3.19, 21.98 -1.7, 26.25 -0.45" stroke="#1e1e1e" stroke-width="2" fill="none"/></g></g><mask/><g stroke-linecap="round"><g transform="translate(730.6399230957031 49.7945556640625) rotate(0 11.97613525390625 -0.251495361328125)"><path d="M-0.02 0.29 C3.96 0.23, 20.03 -0.45, 24 -0.63 M-0.7 -0.04 C3.21 0.01, 19.58 0.05, 23.59 0.01" stroke="#1e1e1e" stroke-width="2" fill="none"/></g><g transform="translate(730.6399230957031 49.7945556640625) rotate(0 11.97613525390625 -0.251495361328125)"><path d="M12.35 4.14 C16.24 2.88, 19.35 1.36, 23.59 0.01 M12.35 4.14 C15.15 3.23, 18.01 2.18, 23.59 0.01" stroke="#1e1e1e" stroke-width="2" fill="none"/></g><g transform="translate(730.6399230957031 49.7945556640625) rotate(0 11.97613525390625 -0.251495361328125)"><path d="M12.32 -4.06 C16.2 -2.72, 19.32 -1.64, 23.59 0.01 M12.32 -4.06 C15.14 -2.89, 18.01 -1.86, 23.59 0.01" stroke="#1e1e1e" stroke-width="2" fill="none"/></g></g><mask/><g transform="translate(31.174583435058594 106.05355834960938) rotate(0 78.33993530273438 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Image Features</text></g></svg>

***

## Image

图像就是数组，每个像素点的颜色是响应值。

![gitbook/assets/tmp1irw0f42.jpg](/img/user/gitbook/assets/tmp1irw0f42.jpg)

<details>

<summary>Code</summary>

```python
import skimage.data as data
from PIL import Image

image = Image.fromarray(data.astronaut())

image.show()
```

</details>

{% hint style="info" %}
skimage.data模块有很多demo 图片python

<pre class="language-python"><code class="lang-python"><strong>print(data.__all__)
</strong><strong>['astronaut', 'binary_blobs', 'brain', 'brick', 'camera', 'cat', 'cell', 'cells3d', 'checkerboard', 'chelsea', 'clock', 'coffee', 'coins', 'colorwheel', 'data_dir', 'download_all', 'eagle', 'file_hash', 'grass', 'gravel', 'horse', 'hubble_deep_field', 'human_mitosis', 'immunohistochemistry', 'kidney', 'lbp_frontal_face_cascade_filename', 'lfw_subset', 'lily', 'logo', 'microaneurysms', 'moon', 'nickel_solidification', 'page', 'palisades_of_vogt', 'protein_transport', 'retina', 'rocket', 'shepp_logan_phantom', 'skin', 'stereo_motorcycle', 'text', 'vortex']
</strong></code></pre>
{% endhint %}

***

## Sampling

采样：从连续信号到离散信号。

![gitbook/assets/image (61).png](/img/user/gitbook/assets/image%20(61).png)

<details>

<summary>Code</summary>

```python
import numpy as np
import matplotlib.pyplot as plt

def generate_image(width, height):
    I = np.zeros((width, height))
    for x in range(width):
        for y in range(height):
            I[x, y] = np.cos(x/width*2*np.pi) * np.cos(y/height*2*np.pi) * 255
    return I

def plot(index,n):
    plt.subplot(1,4,index+1)
    plt.imshow(generate_image(n, n), cmap='gray')
    plt.title(f"{n}x{n}")
    plt.axis('off')
for i,n in enumerate([5,15,50,1000]):
    plot(i,n)
plt.show()
```

</details>

***

## Quantization

量化：用多少比特代表每个像素的颜色。

![gitbook/assets/image (64).png](/img/user/gitbook/assets/image%20(64).png)

<details>

<summary>Code</summary>

```python
import numpy as np
import matplotlib.pyplot as plt

def generate_image(level):
    I = np.zeros((16,256))
    for x in range(256):
        n = 2**level         # 一共多少个格子
        length = int(256/n)  # 每个格子有多大
        I[:, x] = int(x/length) / n
    return I/np.max(I)

def plot(index,level):
    plt.subplot(4,1,index+1)
    plt.imshow(generate_image(level), cmap='gray', vmax=1, vmin=0)
    plt.title(f"level = {level}")
    plt.axis('off')
for index,level in enumerate([1,2,4,8]):
    plot(index,level)
plt.show()
```

</details>

***

## Neighbor and Distance

1. 邻域：4 邻域(上下左右)，D 邻域(四个角)，8 邻域(4+D)
2. 欧氏距离：$$D_e = \sqrt{(x-s)^2+(x-t)^2}$$
3. $$D_4$$距离：$$D_4 = |x-s|+|y-t|$$
4. $$D_8$$距离：$$D_8 = \max(|x-s|+|y-t|)$$