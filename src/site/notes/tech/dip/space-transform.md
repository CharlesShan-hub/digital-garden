---
{"dg-publish":true,"dg-permalink":"tech/dip/space-transform.md","permalink":"/tech/dip/space-transform.md/"}
---


# Space Transform

<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 981.5969543457031 424.96868896484375" width="1963.1939086914062" height="849.9373779296875">  <!-- svg-source:excalidraw -->  <!-- payload-type:application/vnd.excalidraw+json --><!-- payload-version:2 --><!-- payload-start -->eyJ2ZXJzaW9uIjoiMSIsImVuY29kaW5nIjoiYnN0cmluZyIsImNvbXByZXNzZWQiOnRydWUsImVuY29kZWQiOiJ4nO1cXFtz2shcdTAwMTJ+96+gvI9nrZ37ZavOg++XeG3HjmM7Z7dSslx1MDAxMCAjJFZcdTAwMTK2YSv//fTIXHUwMDE4XUCAY8iBysFVXHUwMDAxNCNNz3R//XX3XGb5Z6NW20z6XXfz99qm++zYvleP7KfNX831RzeKvTCAJpJ+j8Ne5KQ9W0nSjX//7Te727WaXnJcdTAwMWaGbctcdDsvt7m+23GDJIaO/4Hvtdo/6b+5gVwi10nsoOm76VxyaVM2XHUwMDE2lrR89SxcZtJxXHRGnDOthVx1MDAxY/Xw4j1cdTAwMTgvcevQ3LD92M1azKXNu6fz6LN3/unu8Pa6v4vP+1x1MDAwZoO/97JhXHUwMDFinu9fJX3/ZVa20+pFOaHiJFxu2+6NV09ar4uQuz66r27HLVx1MDAxMGDUXHUwMDFjhb1mK3Bjs1x1MDAwMmh0Nezajpf0zVxmUXb1ZVx1MDAxOfL9nuFcdTAwMWIj3JJcdTAwMDQhJrSWSKJsRfrpMlx1MDAxMItcdTAwMGKGmdRMXHUwMDEzrCQvSbZcdTAwMWL6YWQk+1x1MDAwNbvmL1x1MDAxM+3edtpNkC+oZ31sXleNRtbnaThfLInFqMZSMSGkXHUwMDE2So26tFxcr9lKjKDUolx1MDAxOFx0oTTjXHUwMDE0k5wgbqpcdTAwMTLMOFFYIJy1mOG7x/XUPP7KXHUwMDE0XHUwMDEx2Vx1MDAxZPfY3Fx1MDAxMvR8P7+UQX24lK9mlFx1MDAxOVx1MDAxMlx1MDAxZF75ls3P9N8vXHUwMDFiYN5cYlx1MDAwYoaYuM/JaOI5q2moa/dkd+uU9i7247uWUqfkK91cdTAwMWP1+zb8lInf69btXHUwMDE3I4RVY6BcdTAwMWJcdTAwMDW6o5nF+F7QLs/NXHUwMDBmnXZmt1x1MDAxYrmJjFx1MDAwMaYgZ1x1MDAxZStEVmFFY6SExFjPXHKVyZOeXGaVOFx1MDAwNEfxZqCU7srjXHUwMDA0f1x1MDAxZk40tTjSgmOsXHUwMDE4UqRcZlx1MDAxNIItiTVThL1cdTAwMWImSWRcdTAwMDdx147AsMahQoWluIEq0kRKytg4UiZgQ1x1MDAxMk4kWIp+PzZcblxyYyBYpJ1mUoVBcuVcclK/jFxuV1x1MDAwZuyO5/dcdTAwMGJKTVxyXHUwMDE4VnEnfN4sXFzc9r2mseRNXHUwMDA3hHWjgpEnXHUwMDFl8NGoQ8er1/OM4cBItlx1MDAxN7jR8TyOPoy8plx1MDAxN9j+p0mCwKzdo1dFYSunqns7dk2rua6mQnQqp5HcXHUwMDEyl3CKwcpcdTAwMTVjhM5cdTAwMGbUk1x1MDAwN0Fbd82TQey073aFfrDZlVpcdTAwMDNOY1x1MDAxNueaXHUwMDAyb1FgXGaGRFx1MDAxMavANlx1MDAxY1x1MDAwYiVcdTAwMDUhhvFwSbKV4jRcdO1cXGRcIq5cdTAwMDOnRW2BXHUwMDBmm/2tXHUwMDFlw18l7l5cdTAwMWOq3t71KnJaTiclrDDOIFx1MDAwMlRvgMrkSa82p1x0YWGmtKCaKEKIKOFEYUtIYDYkNKVcXLP34GQqqSlccp5QwyBMYoNcdTAwMTU9XHUwMDBllVx04OCYYirlXHUwMDAy4r114bRDu1x1MDAxN8eeXHUwMDFkLInYZnj7MrGNS7N0duOMl6+OolDCJVx1MDAwN23Mj9izZODsXHUwMDA39Nxx7I9su32x/fngNFh5cuNEWEJcdIhENVC5XCKZXHUwMDBi61x1MDAwZtM5zCnkbGVG+Vx1MDAwZWq7J1xycn+/LGpcdTAwMTNUXHUwMDAxtS1cdTAwMDK+P5Danlx1MDAxYdtcdTAwMTdfwpPbk+2oe/PQbttHztb5XG5SXHUwMDFiz9lROVxmlFxi0mRcdTAwMTNcdTAwMWLNjZTJs15pbuOSWVx1MDAxMDhBXHUwMDE0SFx0kTznXHUwMDE2UphQZlGklFbGbah3XHUwMDAyZSq3SWExrTWhXHUwMDEyXHRcdTAwMDRcdTAwMGVqLm5cdTAwMDN8S0xcdTAwMTH9ifK1y/BcdTAwMWXoKl5cdTAwMTK1zfD1ZWpcdTAwMWJcdTAwMTNm6cxcdTAwMDaRTyVgNeBcdTAwMTWylVxcojJcdTAwMGKw7Klx1r8n57Sp7pJcdTAwMGb93duDxlx1MDAxNVlcdTAwMDNqk1x1MDAxNuOcKyxcdTAwMDRcdTAwMDfjz+Zr7qeCWJhobFqQWGFq40pTIYVeL2b7LFx1MDAxYX/sheGF83HQOm5cdTAwMWZF22fhw+VcbjJcdTAwMWKk9JVAgVxchplcdTAwMDRibpxMnvRqXHUwMDEzm1KWklx1MDAxY2tFXHUwMDA1M+RVXHUwMDA0iVx1MDAwNOekXHUwMDE4U0yBLpZKbExbkLNcdTAwMDFcdTAwMDaQUJBcdTAwMWTSXFwkN4XZuClpKKxcdTAwMTdQ0VhcdTAwMTdmu1x1MDAwMjLxl8RrM1x1MDAxY32Z10qiLJ3VXHUwMDA0rszXIP5USFx1MDAxMcbm32H78vHvXHUwMDBmZ1dcdTAwMGZfXHUwMDFluo/3R1Q1XHUwMDFlxd1OXHUwMDE1WleJ1SBcdTAwMDKkhFx1MDAxMkkk4qhcdTAwMDRYZmpcdTAwMWZcdTAwMTjwQzjRJF/6WDVaI1x1MDAxONiXyYVsXCL8QF5TPYS9zte9yG9cdTAwMWWe3/Kzu6v9xtZcbvJcdTAwMWFX1VCRoDtEhZg/Y5s869UmNiFcdTAwMDFcdFgzxlx1MDAxNVx1MDAwMphcdTAwMTSjP6aVRcE2XHUwMDAxQ1xia/6+ov1UXtNcYvhcdTAwMTV4jSomIYMkc9GaZpDcQT7587Daqd31QblLK0bOcPZlZpsgztLZjZLqnI2BNlx1MDAxMFU8XHUwMDFidFx1MDAxNmQp6EB/XGLdPWf/cL9/5HZPLs7uKiDrRGFcdTAwMWNvtezEaa1cdTAwMDDDXHRcblxmhzhkbYBcdTAwMTYty9tcYlxm8jZBgDikwHKlz5BcdTAwMDBNwyOUykKSdWC4nlx1MDAwNC/VdqI+Y59uTj9e3e56Xz/lXHUwMDE47tfJj1x1MDAxZO7wXHUwMDFld662P1x1MDAxYz9FXfs56V1v+XV5+KU4yuv4dlx1MDAxNIVPK8icRFVcdTAwMWXjolRqRPJF5lkonLyYK02cXHUwMDAyqFx1MDAxMXMgK620XHUwMDA0r1MsdVx1MDAxMo7B6Fx1MDAxNcacUEaXeDKFKUtTrSXW6bZcdTAwMDSejzgxolhyqelPtI33h7s01pxBXCJl1ixKslxiwnxxXHUwMDEyXHUwMDEzUIp5JVkqxSGiy0dPM8+lTPVaq8yVUlx1MDAxMVx1MDAwYqxdKZZcdTAwMWXfosVskCBqKZzutr9cdTAwMTOqlamgwFx1MDAxNsKMXHROKYw2XHUwMDExpVRakI1A1sHTXHUwMDFki1x1MDAwMmNcdTAwMGaJXHUwMDEygWeFqSylxElmXHUwMDEz5Sws07xNz4vlOLGjZMdcdTAwMGLqXtAsXG42PGf8XHUwMDAysYjvJ4m+6bePT1x1MDAwN7x/s9/qPu3wXHUwMDFjY1x1MDAwMvqdXmog5sCgxoorXHUwMDEwi1x1MDAxMpKtllkvu5uCwpIgN2GYYGRUPjZ1N6jPXHUwMDE2aTrqc1wibSGLXHUwMDEwTFx1MDAwNdMgXHUwMDFhQkgoLMaFXHUwMDFhXHUwMDEzwrfjZDfsdLxcdTAwMDSW+lwi9IKkvKTp2m1cdTAwMWLst1xce0zfMIl8W9lJdM1cdTAwMTOLXHUwMDAxUPapllx1MDAwMSj9Mvr8169cdTAwMTN7b1FYd6GHOWR+zWs14EkpXHUwMDE4MVkmXHUwMDA06Fx1MDAxMKzOfFglWsxrXHUwMDFjJ9nzNvLvb41oROW5JMUo55CYvuFcXNJUc11pV1x0cVxyx1x1MDAxOCNcdTAwMDUxeSF0Se9XoE2EX2OeZblLcNdYa1xyclx1MDAxNFOXaSFccjbHoVx1MDAxMZZcdTAwMGJII6aHNOtcdTAwMTPYvy9gulx1MDAwZU4h+LCjiqDJd1x1MDAxYsmUkClcdLtV8VJB4nJwND7qXCJcdTAwMDKkysOItFx1MDAxMvTUXHUwMDFjXHUwMDA1oHj+7V83eWJcdTAwMGX9/Ph8si/4l7uDo1x1MDAwM3R+s1x1MDAxNpgnTFuEcaSEXHUwMDEw2vzipFx1MDAxNFx1MDAxZjFhUXC2mku0vONNWFpcdTAwMDBg8LNcdTAwMDRcdTAwMDHmsZxwZINRXHUwMDBiXHUwMDBihDQnmFx1MDAxNX3T6z5cdTAwMTcwumaYr31FkDKLk1Hthmld6DRt26tcdTAwMTOGSevHQrY85lxcgKXou1x1MDAwMEtQZcGemvJcdTAwMTPHb/jxWNxI+jefWlx1MDAxZusxb7BbMkCDa7fq9PCKIZZcdTAwMTNIWUxFXHJcdTAwMDFcXMr70YxoSyCIwyBdWN72ltRcdTAwMTZSXHUwMDFjXHUwMDFlLyi8azq59FdcdTAwMDBs7jDzXHUwMDBiYIWGW3k+S/3ZXHUwMDAwu19vuj9cdTAwMTauxVx1MDAxMVx1MDAxN1x1MDAwMda011x1MDAwNLDqSnLFkHyZNFxiz18jvOxcIrHvXHLOd1x1MDAwZVx1MDAxZS/JXHTvXXKy1V9cdTAwMGawMmKB39KainI5MD09XHUwMDAyzYghgLRcdTAwMDAssCWhVXAgcVx1MDAwMlx1MDAwZVKWfivXypSvXHUwMDE5+Fx1MDAxMvAoxmdMqD9gXHUwMDBl2ZspNGaJ/mpcdTAwMTUgvlx1MDAwYsSlXHUwMDAyRDmFrmhZcHJeaFtoZl6ld/NcdTAwMWHTePawjfz7W3FfnUlDWFx1MDAwNzZcdTAwMDROf/5UWt7ovWtfPN/cXHUwMDBl2kk9OLlcbqKjk7XAvUbYolRcdTAwMDPwS6nySyZtYm6lJFIsbVclwVx1MDAxNlx1MDAwM3tcbq5cdTAwMDWGQcWCYlZ0XHUwMDE01FJgXHUwMDE3SCqBzdG1MczjdHOPyKX8XHUwMDE47p2YXHUwMDA3XHUwMDE15Cb1f8y/vrYmat28xvT9RsRXhuVcXJSvjiBPKUK8UJiZXHUwMDA1+dDnXHUwMDBm3cFFfHmvlNPvXHUwMDFmPtPBg7dcdTAwMWWQh4iXXHUwMDExisZS5TQs59ySSiOEwXrVe7dcdTAwMDUrIU9cYrKo1Fx1MDAxMJqTl/8/YkJgPoHcXHUwMDE5klhcdTAwMTCK/6e5M6dIZCu67Fxul9dp1rZqcZq+1v5dcyEw/jP4MzDvtX/VTCtcXFxmWjZcdTAwMThy/cfG6N8n2VxcsbxcdTAwMThWyjaG7mPT7navXHUwMDEy0MPIQ4PivfpwMTMpN1x1MDAxZj33aWf69vTG0HNcdTAwMTiIuqnL/7bx7b/96mCNIn0=<!-- payload-end -->  <defs>    <style class="style-fonts">      @font-face {        font-family: "Virgil";        src: url("https://unpkg.com/@excalidraw/excalidraw@undefined/dist/excalidraw-assets/Virgil.woff2");      }      @font-face {        font-family: "Cascadia";        src: url("https://unpkg.com/@excalidraw/excalidraw@undefined/dist/excalidraw-assets/Cascadia.woff2");      }      @font-face {        font-family: "Assistant";        src: url("https://unpkg.com/@excalidraw/excalidraw@undefined/dist/excalidraw-assets/Assistant-Regular.woff2");      }    </style>      </defs>  <rect x="0" y="0" width="981.5969543457031" height="424.96868896484375" fill="transparent"/><g stroke-linecap="round" transform="translate(213.51405334472656 54.462158203125) rotate(0 86.21958923339844 21.65533447265625)"><path d="M2.88 2.51 C2.88 2.51, 2.88 2.51, 2.88 2.51 M2.88 2.51 C2.88 2.51, 2.88 2.51, 2.88 2.51 M0.39 17.57 C3.41 14.09, 6.44 10.61, 15.48 0.21 M0.39 17.57 C4.91 12.36, 9.43 7.16, 15.48 0.21 M0.52 29.61 C6.21 23.06, 11.9 16.52, 26.11 0.17 M0.52 29.61 C10.26 18.41, 20 7.21, 26.11 0.17 M2.63 39.38 C12.25 28.31, 21.88 17.23, 36.74 0.14 M2.63 39.38 C14.73 25.46, 26.83 11.54, 36.74 0.14 M9.98 43.12 C22.98 28.16, 35.98 13.2, 47.37 0.1 M9.98 43.12 C22.37 28.86, 34.76 14.61, 47.37 0.1 M20.61 43.09 C30.5 31.7, 40.4 20.31, 58 0.07 M20.61 43.09 C34.26 27.38, 47.92 11.67, 58 0.07 M30.58 43.81 C43.12 29.39, 55.65 14.96, 67.97 0.79 M30.58 43.81 C39.09 34.01, 47.61 24.22, 67.97 0.79 M41.21 43.77 C56.02 26.74, 70.83 9.7, 78.6 0.75 M41.21 43.77 C51.66 31.75, 62.1 19.74, 78.6 0.75 M51.84 43.74 C66.66 26.69, 81.48 9.64, 89.23 0.72 M51.84 43.74 C60.88 33.34, 69.92 22.94, 89.23 0.72 M62.47 43.7 C72.8 31.83, 83.12 19.95, 99.87 0.69 M62.47 43.7 C72.52 32.14, 82.58 20.57, 99.87 0.69 M73.1 43.67 C85.97 28.86, 98.84 14.06, 110.5 0.65 M73.1 43.67 C85.05 29.93, 96.99 16.18, 110.5 0.65 M83.73 43.63 C97.05 28.31, 110.38 12.98, 121.13 0.62 M83.73 43.63 C92.28 33.8, 100.84 23.96, 121.13 0.62 M94.36 43.6 C105.33 30.98, 116.3 18.36, 131.76 0.58 M94.36 43.6 C104.84 31.55, 115.31 19.49, 131.76 0.58 M104.99 43.57 C113.95 33.26, 122.91 22.96, 142.39 0.55 M104.99 43.57 C115.37 31.63, 125.75 19.69, 142.39 0.55 M115.62 43.53 C129.09 28.04, 142.56 12.54, 153.02 0.51 M115.62 43.53 C127.46 29.91, 139.3 16.29, 153.02 0.51 M126.25 43.5 C140.47 27.13, 154.7 10.77, 163.65 0.48 M126.25 43.5 C135.87 32.43, 145.49 21.37, 163.65 0.48 M136.88 43.46 C149.25 29.24, 161.61 15.01, 171 4.22 M136.88 43.46 C146.94 31.89, 157.01 20.31, 171 4.22 M147.51 43.43 C157.36 32.1, 167.2 20.77, 173.1 13.99 M147.51 43.43 C153.48 36.56, 159.45 29.7, 173.1 13.99 M158.14 43.39 C162.75 38.09, 167.36 32.78, 172.57 26.79 M158.14 43.39 C161.82 39.16, 165.5 34.93, 172.57 26.79" stroke="#a5d8ff" stroke-width="1" fill="none"/><path d="M10.83 0 C50.19 0, 89.56 0, 161.61 0 M161.61 0 C168.83 0, 172.44 3.61, 172.44 10.83 M172.44 10.83 C172.44 15.79, 172.44 20.75, 172.44 32.48 M172.44 32.48 C172.44 39.7, 168.83 43.31, 161.61 43.31 M161.61 43.31 C115.69 43.31, 69.76 43.31, 10.83 43.31 M10.83 43.31 C3.61 43.31, 0 39.7, 0 32.48 M0 32.48 C0 25.68, 0 18.88, 0 10.83 M0 10.83 C0 3.61, 3.61 0, 10.83 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="8 10"/></g><g transform="translate(281.3036575317383 63.61749267578125) rotate(0 18.42998504638672 12.5)"><text x="18.42998504638672" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Box</text></g><g stroke-linecap="round" transform="translate(212.3533477783203 114.41488647460938) rotate(0 86.21958923339844 21.65533447265625)"><path d="M2.88 2.51 C2.88 2.51, 2.88 2.51, 2.88 2.51 M2.88 2.51 C2.88 2.51, 2.88 2.51, 2.88 2.51 M0.39 17.57 C4.81 12.48, 9.23 7.4, 15.48 0.21 M0.39 17.57 C3.5 13.99, 6.6 10.42, 15.48 0.21 M0.52 29.61 C5.81 23.52, 11.1 17.44, 26.11 0.17 M0.52 29.61 C8.18 20.8, 15.84 11.99, 26.11 0.17 M2.63 39.38 C11.19 29.53, 19.75 19.69, 36.74 0.14 M2.63 39.38 C14.53 25.68, 26.44 11.99, 36.74 0.14 M9.98 43.12 C19.43 32.25, 28.88 21.37, 47.37 0.1 M9.98 43.12 C24.77 26.1, 39.57 9.08, 47.37 0.1 M20.61 43.09 C34.06 27.61, 47.52 12.13, 58 0.07 M20.61 43.09 C34.09 27.57, 47.58 12.05, 58 0.07 M30.58 43.81 C38.49 34.71, 46.39 25.62, 67.97 0.79 M30.58 43.81 C42.75 29.81, 54.92 15.81, 67.97 0.79 M41.21 43.77 C49.11 34.68, 57.01 25.6, 78.6 0.75 M41.21 43.77 C52.75 30.5, 64.29 17.22, 78.6 0.75 M51.84 43.74 C63.01 30.89, 74.18 18.04, 89.23 0.72 M51.84 43.74 C64.73 28.91, 77.62 14.08, 89.23 0.72 M62.47 43.7 C70.72 34.21, 78.98 24.71, 99.87 0.69 M62.47 43.7 C72.27 32.43, 82.07 21.16, 99.87 0.69 M73.1 43.67 C84.47 30.58, 95.85 17.5, 110.5 0.65 M73.1 43.67 C86.6 28.14, 100.1 12.61, 110.5 0.65 M83.73 43.63 C95.96 29.56, 108.19 15.49, 121.13 0.62 M83.73 43.63 C98.39 26.77, 113.04 9.91, 121.13 0.62 M94.36 43.6 C105.24 31.08, 116.12 18.56, 131.76 0.58 M94.36 43.6 C103.09 33.55, 111.83 23.51, 131.76 0.58 M104.99 43.57 C115.93 30.98, 126.87 18.39, 142.39 0.55 M104.99 43.57 C115.12 31.92, 125.24 20.27, 142.39 0.55 M115.62 43.53 C126.68 30.81, 137.73 18.1, 153.02 0.51 M115.62 43.53 C125.84 31.78, 136.05 20.03, 153.02 0.51 M126.25 43.5 C133.84 34.77, 141.43 26.04, 163.65 0.48 M126.25 43.5 C140.19 27.46, 154.12 11.43, 163.65 0.48 M136.88 43.46 C144.66 34.51, 152.44 25.56, 171 4.22 M136.88 43.46 C148.55 30.03, 160.23 16.6, 171 4.22 M147.51 43.43 C156.91 32.62, 166.31 21.81, 173.1 13.99 M147.51 43.43 C157.06 32.44, 166.61 21.46, 173.1 13.99 M158.14 43.39 C163.5 37.22, 168.87 31.05, 172.57 26.79 M158.14 43.39 C163.26 37.51, 168.37 31.62, 172.57 26.79" stroke="#a5d8ff" stroke-width="1" fill="none"/><path d="M10.83 0 C63.54 0, 116.26 0, 161.61 0 M161.61 0 C168.83 0, 172.44 3.61, 172.44 10.83 M172.44 10.83 C172.44 17.39, 172.44 23.96, 172.44 32.48 M172.44 32.48 C172.44 39.7, 168.83 43.31, 161.61 43.31 M161.61 43.31 C108.1 43.31, 54.59 43.31, 10.83 43.31 M10.83 43.31 C3.61 43.31, 0 39.7, 0 32.48 M0 32.48 C0 27.15, 0 21.82, 0 10.83 M0 10.83 C0 3.61, 3.61 0, 10.83 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="8 10"/></g><g transform="translate(253.9429702758789 123.57022094726562) rotate(0 44.629966735839844 12.5)"><text x="44.629966735839844" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Gaussian</text></g><g stroke-linecap="round" transform="translate(314.48097229003906 267.05157470703125) rotate(0 86.21958923339844 21.65533447265625)"><path d="M2.88 2.51 C2.88 2.51, 2.88 2.51, 2.88 2.51 M2.88 2.51 C2.88 2.51, 2.88 2.51, 2.88 2.51 M0.39 17.57 C6.02 11.09, 11.65 4.61, 15.48 0.21 M0.39 17.57 C6 11.12, 11.6 4.67, 15.48 0.21 M0.52 29.61 C9.59 19.17, 18.66 8.74, 26.11 0.17 M0.52 29.61 C6.11 23.18, 11.69 16.76, 26.11 0.17 M2.63 39.38 C11.14 29.59, 19.65 19.8, 36.74 0.14 M2.63 39.38 C12.28 28.27, 21.94 17.17, 36.74 0.14 M9.98 43.12 C24.02 26.97, 38.06 10.82, 47.37 0.1 M9.98 43.12 C17.9 34.01, 25.82 24.89, 47.37 0.1 M20.61 43.09 C34.83 26.72, 49.06 10.36, 58 0.07 M20.61 43.09 C31.55 30.49, 42.5 17.9, 58 0.07 M30.58 43.81 C42.63 29.95, 54.68 16.09, 67.97 0.79 M30.58 43.81 C42.83 29.72, 55.08 15.62, 67.97 0.79 M41.21 43.77 C50.41 33.19, 59.62 22.6, 78.6 0.75 M41.21 43.77 C48.85 34.99, 56.49 26.2, 78.6 0.75 M51.84 43.74 C61.68 32.41, 71.53 21.09, 89.23 0.72 M51.84 43.74 C65.61 27.89, 79.39 12.05, 89.23 0.72 M62.47 43.7 C74.75 29.57, 87.04 15.44, 99.87 0.69 M62.47 43.7 C77.23 26.72, 92 9.73, 99.87 0.69 M73.1 43.67 C85.02 29.96, 96.94 16.24, 110.5 0.65 M73.1 43.67 C82.84 32.47, 92.57 21.27, 110.5 0.65 M83.73 43.63 C91.62 34.56, 99.51 25.48, 121.13 0.62 M83.73 43.63 C95.51 30.09, 107.28 16.54, 121.13 0.62 M94.36 43.6 C107.84 28.1, 121.32 12.59, 131.76 0.58 M94.36 43.6 C107.58 28.39, 120.81 13.18, 131.76 0.58 M104.99 43.57 C115.41 31.58, 125.83 19.6, 142.39 0.55 M104.99 43.57 C119.52 26.85, 134.06 10.13, 142.39 0.55 M115.62 43.53 C127.27 30.13, 138.92 16.73, 153.02 0.51 M115.62 43.53 C127.63 29.71, 139.64 15.9, 153.02 0.51 M126.25 43.5 C134.4 34.13, 142.54 24.75, 163.65 0.48 M126.25 43.5 C137.97 30.02, 149.68 16.54, 163.65 0.48 M136.88 43.46 C145.3 33.77, 153.73 24.08, 171 4.22 M136.88 43.46 C145.74 33.27, 154.6 23.07, 171 4.22 M147.51 43.43 C155.62 34.1, 163.73 24.77, 173.1 13.99 M147.51 43.43 C156.72 32.84, 165.93 22.24, 173.1 13.99 M158.14 43.39 C162.37 38.53, 166.6 33.67, 172.57 26.79 M158.14 43.39 C163.76 36.93, 169.38 30.46, 172.57 26.79" stroke="#b2f2bb" stroke-width="1" fill="none"/><path d="M10.83 0 C51.55 0, 92.28 0, 161.61 0 M161.61 0 C168.83 0, 172.44 3.61, 172.44 10.83 M172.44 10.83 C172.44 16.84, 172.44 22.85, 172.44 32.48 M172.44 32.48 C172.44 39.7, 168.83 43.31, 161.61 43.31 M161.61 43.31 C123.59 43.31, 85.56 43.31, 10.83 43.31 M10.83 43.31 C3.61 43.31, 0 39.7, 0 32.48 M0 32.48 C0 24.67, 0 16.85, 0 10.83 M0 10.83 C0 3.61, 3.61 0, 10.83 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="8 10"/></g><g transform="translate(362.45059967041016 276.2069091796875) rotate(0 38.249961853027344 12.5)"><text x="38.249961853027344" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Roberts</text></g><g stroke-linecap="round" transform="translate(315.2495880126953 204.02716064453125) rotate(0 86.21958923339844 21.65533447265625)"><path d="M2.88 2.51 C2.88 2.51, 2.88 2.51, 2.88 2.51 M2.88 2.51 C2.88 2.51, 2.88 2.51, 2.88 2.51 M0.39 17.57 C4.66 12.66, 8.92 7.75, 15.48 0.21 M0.39 17.57 C4.45 12.9, 8.51 8.23, 15.48 0.21 M0.52 29.61 C10.18 18.49, 19.84 7.38, 26.11 0.17 M0.52 29.61 C8.55 20.37, 16.58 11.14, 26.11 0.17 M2.63 39.38 C11.28 29.43, 19.93 19.48, 36.74 0.14 M2.63 39.38 C14.89 25.27, 27.15 11.16, 36.74 0.14 M9.98 43.12 C19.6 32.04, 29.23 20.97, 47.37 0.1 M9.98 43.12 C20.24 31.32, 30.5 19.52, 47.37 0.1 M20.61 43.09 C33.28 28.51, 45.95 13.93, 58 0.07 M20.61 43.09 C33.56 28.19, 46.51 13.29, 58 0.07 M30.58 43.81 C39.14 33.96, 47.7 24.11, 67.97 0.79 M30.58 43.81 C40.14 32.81, 49.7 21.81, 67.97 0.79 M41.21 43.77 C53.11 30.09, 65 16.4, 78.6 0.75 M41.21 43.77 C54.17 28.87, 67.13 13.96, 78.6 0.75 M51.84 43.74 C60.61 33.64, 69.39 23.55, 89.23 0.72 M51.84 43.74 C66.76 26.58, 81.67 9.42, 89.23 0.72 M62.47 43.7 C74.52 29.84, 86.58 15.97, 99.87 0.69 M62.47 43.7 C73.7 30.78, 84.94 17.86, 99.87 0.69 M73.1 43.67 C81.29 34.25, 89.48 24.83, 110.5 0.65 M73.1 43.67 C81.27 34.27, 89.44 24.87, 110.5 0.65 M83.73 43.63 C96.23 29.26, 108.72 14.88, 121.13 0.62 M83.73 43.63 C93.9 31.94, 104.07 20.24, 121.13 0.62 M94.36 43.6 C102.88 33.8, 111.4 24, 131.76 0.58 M94.36 43.6 C105.68 30.58, 117 17.56, 131.76 0.58 M104.99 43.57 C115.75 31.18, 126.52 18.8, 142.39 0.55 M104.99 43.57 C118.01 28.59, 131.03 13.61, 142.39 0.55 M115.62 43.53 C127.16 30.25, 138.7 16.98, 153.02 0.51 M115.62 43.53 C123.58 34.37, 131.54 25.22, 153.02 0.51 M126.25 43.5 C140.05 27.62, 153.85 11.74, 163.65 0.48 M126.25 43.5 C138.97 28.87, 151.68 14.24, 163.65 0.48 M136.88 43.46 C144.06 35.2, 151.25 26.94, 171 4.22 M136.88 43.46 C149.98 28.39, 163.08 13.32, 171 4.22 M147.51 43.43 C155.58 34.15, 163.64 24.87, 173.1 13.99 M147.51 43.43 C154.72 35.14, 161.92 26.85, 173.1 13.99 M158.14 43.39 C162.24 38.68, 166.34 33.96, 172.57 26.79 M158.14 43.39 C161.38 39.67, 164.62 35.94, 172.57 26.79" stroke="#b2f2bb" stroke-width="1" fill="none"/><path d="M10.83 0 C64.18 0, 117.54 0, 161.61 0 M161.61 0 C168.83 0, 172.44 3.61, 172.44 10.83 M172.44 10.83 C172.44 16.96, 172.44 23.09, 172.44 32.48 M172.44 32.48 C172.44 39.7, 168.83 43.31, 161.61 43.31 M161.61 43.31 C112.41 43.31, 63.22 43.31, 10.83 43.31 M10.83 43.31 C3.61 43.31, 0 39.7, 0 32.48 M0 32.48 C0 24.96, 0 17.44, 0 10.83 M0 10.83 C0 3.61, 3.61 0, 10.83 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="8 10"/></g><g transform="translate(376.66920471191406 213.1824951171875) rotate(0 24.799972534179688 12.5)"><text x="24.799972534179688" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Sobel</text></g><g stroke-linecap="round" transform="translate(314.22633361816406 331.1116027832031) rotate(0 86.21958923339844 21.65533447265625)"><path d="M2.88 2.51 C2.88 2.51, 2.88 2.51, 2.88 2.51 M2.88 2.51 C2.88 2.51, 2.88 2.51, 2.88 2.51 M0.39 17.57 C4.87 12.42, 9.34 7.27, 15.48 0.21 M0.39 17.57 C5.89 11.24, 11.38 4.92, 15.48 0.21 M0.52 29.61 C6.56 22.66, 12.6 15.71, 26.11 0.17 M0.52 29.61 C10.02 18.68, 19.52 7.75, 26.11 0.17 M2.63 39.38 C15.08 25.05, 27.54 10.72, 36.74 0.14 M2.63 39.38 C11.68 28.97, 20.72 18.56, 36.74 0.14 M9.98 43.12 C19.6 32.05, 29.23 20.98, 47.37 0.1 M9.98 43.12 C20.3 31.24, 30.63 19.36, 47.37 0.1 M20.61 43.09 C34.05 27.62, 47.5 12.14, 58 0.07 M20.61 43.09 C32.28 29.65, 43.96 16.22, 58 0.07 M30.58 43.81 C40.45 32.46, 50.32 21.1, 67.97 0.79 M30.58 43.81 C43.23 29.25, 55.89 14.69, 67.97 0.79 M41.21 43.77 C51.65 31.76, 62.09 19.75, 78.6 0.75 M41.21 43.77 C50.69 32.86, 60.17 21.96, 78.6 0.75 M51.84 43.74 C63.2 30.67, 74.55 17.61, 89.23 0.72 M51.84 43.74 C61.92 32.14, 72 20.55, 89.23 0.72 M62.47 43.7 C77.29 26.66, 92.11 9.61, 99.87 0.69 M62.47 43.7 C77.01 26.98, 91.55 10.25, 99.87 0.69 M73.1 43.67 C82.39 32.98, 91.69 22.29, 110.5 0.65 M73.1 43.67 C87.41 27.2, 101.73 10.74, 110.5 0.65 M83.73 43.63 C97.07 28.29, 110.41 12.95, 121.13 0.62 M83.73 43.63 C93.81 32.04, 103.89 20.44, 121.13 0.62 M94.36 43.6 C105.33 30.98, 116.31 18.35, 131.76 0.58 M94.36 43.6 C105.3 31.01, 116.25 18.42, 131.76 0.58 M104.99 43.57 C115.45 31.53, 125.92 19.49, 142.39 0.55 M104.99 43.57 C119.9 26.42, 134.8 9.27, 142.39 0.55 M115.62 43.53 C125.23 32.48, 134.84 21.42, 153.02 0.51 M115.62 43.53 C123.68 34.26, 131.73 25, 153.02 0.51 M126.25 43.5 C135.91 32.39, 145.57 21.27, 163.65 0.48 M126.25 43.5 C138.61 29.28, 150.97 15.06, 163.65 0.48 M136.88 43.46 C146.47 32.43, 156.06 21.4, 171 4.22 M136.88 43.46 C146.06 32.91, 155.23 22.35, 171 4.22 M147.51 43.43 C154.12 35.82, 160.73 28.22, 173.1 13.99 M147.51 43.43 C157.01 32.49, 166.52 21.56, 173.1 13.99 M158.14 43.39 C162.92 37.89, 167.7 32.4, 172.57 26.79 M158.14 43.39 C163.52 37.21, 168.9 31.02, 172.57 26.79" stroke="#b2f2bb" stroke-width="1" fill="none"/><path d="M10.83 0 C62.26 0, 113.7 0, 161.61 0 M161.61 0 C168.83 0, 172.44 3.61, 172.44 10.83 M172.44 10.83 C172.44 17.34, 172.44 23.85, 172.44 32.48 M172.44 32.48 C172.44 39.7, 168.83 43.31, 161.61 43.31 M161.61 43.31 C106.24 43.31, 50.88 43.31, 10.83 43.31 M10.83 43.31 C3.61 43.31, 0 39.7, 0 32.48 M0 32.48 C0 27.62, 0 22.77, 0 10.83 M0 10.83 C0 3.61, 3.61 0, 10.83 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="8 10"/></g><g transform="translate(355.0059509277344 340.2669372558594) rotate(0 45.439971923828125 12.5)"><text x="45.439971923828125" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Laplacian</text></g><g stroke-linecap="round" transform="translate(424.1991729736328 84.060791015625) rotate(0 86.21958923339844 21.65533447265625)"><path d="M2.88 2.51 C2.88 2.51, 2.88 2.51, 2.88 2.51 M2.88 2.51 C2.88 2.51, 2.88 2.51, 2.88 2.51 M0.39 17.57 C6.01 11.1, 11.63 4.64, 15.48 0.21 M0.39 17.57 C3.83 13.61, 7.26 9.66, 15.48 0.21 M0.52 29.61 C9.5 19.29, 18.47 8.97, 26.11 0.17 M0.52 29.61 C7.76 21.28, 15 12.96, 26.11 0.17 M2.63 39.38 C13.09 27.34, 23.56 15.3, 36.74 0.14 M2.63 39.38 C9.68 31.27, 16.74 23.15, 36.74 0.14 M9.98 43.12 C19.48 32.19, 28.98 21.25, 47.37 0.1 M9.98 43.12 C20.65 30.85, 31.32 18.57, 47.37 0.1 M20.61 43.09 C31.45 30.61, 42.3 18.13, 58 0.07 M20.61 43.09 C29.69 32.63, 38.78 22.18, 58 0.07 M30.58 43.81 C44.6 27.68, 58.62 11.56, 67.97 0.79 M30.58 43.81 C38.63 34.55, 46.68 25.29, 67.97 0.79 M41.21 43.77 C49.04 34.77, 56.87 25.76, 78.6 0.75 M41.21 43.77 C49.45 34.3, 57.69 24.82, 78.6 0.75 M51.84 43.74 C59.82 34.56, 67.79 25.38, 89.23 0.72 M51.84 43.74 C64.21 29.5, 76.59 15.27, 89.23 0.72 M62.47 43.7 C70.08 34.95, 77.69 26.19, 99.87 0.69 M62.47 43.7 C75.42 28.81, 88.37 13.91, 99.87 0.69 M73.1 43.67 C87 27.68, 100.9 11.69, 110.5 0.65 M73.1 43.67 C86.72 28.01, 100.33 12.34, 110.5 0.65 M83.73 43.63 C97.31 28.02, 110.88 12.4, 121.13 0.62 M83.73 43.63 C93.16 32.79, 102.58 21.95, 121.13 0.62 M94.36 43.6 C103.85 32.68, 113.34 21.76, 131.76 0.58 M94.36 43.6 C102.59 34.13, 110.82 24.66, 131.76 0.58 M104.99 43.57 C113.59 33.67, 122.19 23.78, 142.39 0.55 M104.99 43.57 C115.91 31, 126.83 18.44, 142.39 0.55 M115.62 43.53 C129.27 27.83, 142.91 12.14, 153.02 0.51 M115.62 43.53 C126 31.59, 136.38 19.65, 153.02 0.51 M126.25 43.5 C137.39 30.69, 148.52 17.87, 163.65 0.48 M126.25 43.5 C135.38 32.99, 144.51 22.49, 163.65 0.48 M136.88 43.46 C144.11 35.15, 151.33 26.84, 171 4.22 M136.88 43.46 C146.73 32.13, 156.58 20.8, 171 4.22 M147.51 43.43 C155.49 34.25, 163.47 25.07, 173.1 13.99 M147.51 43.43 C152.88 37.26, 158.24 31.08, 173.1 13.99 M158.14 43.39 C161.07 40.02, 164 36.65, 172.57 26.79 M158.14 43.39 C162.17 38.76, 166.19 34.13, 172.57 26.79 M2.95 40.81 C2.95 40.81, 2.95 40.81, 2.95 40.81 M2.95 40.81 C2.95 40.81, 2.95 40.81, 2.95 40.81 M17.25 42.65 C11.47 37.62, 5.69 32.59, 0.65 28.21 M17.25 42.65 C13.14 39.08, 9.04 35.51, 0.65 28.21 M29.29 42.51 C23.09 37.12, 16.88 31.72, 0.61 17.58 M29.29 42.51 C23.45 37.43, 17.6 32.35, 0.61 17.58 M42.09 43.04 C27.17 30.07, 12.24 17.09, 0.58 6.95 M42.09 43.04 C31.03 33.42, 19.96 23.81, 0.58 6.95 M54.13 42.9 C36.98 27.99, 19.82 13.08, 5.83 0.92 M54.13 42.9 C37.12 28.12, 20.11 13.33, 5.83 0.92 M66.17 42.77 C49.02 27.86, 31.87 12.95, 17.11 0.13 M66.17 42.77 C47.43 26.48, 28.69 10.19, 17.11 0.13 M78.21 42.64 C61.72 28.3, 45.23 13.97, 29.16 -0.01 M78.21 42.64 C60.86 27.55, 43.5 12.47, 29.16 -0.01 M90.25 42.5 C73.9 28.29, 57.56 14.08, 41.2 -0.14 M90.25 42.5 C74.88 29.14, 59.51 15.78, 41.2 -0.14 M103.05 43.03 C89.97 31.66, 76.9 20.3, 53.24 -0.27 M103.05 43.03 C91.74 33.19, 80.42 23.36, 53.24 -0.27 M115.09 42.89 C99.06 28.96, 83.03 15.03, 66.03 0.25 M115.09 42.89 C97.76 27.83, 80.43 12.77, 66.03 0.25 M127.13 42.76 C112.98 30.46, 98.82 18.16, 78.07 0.12 M127.13 42.76 C111.72 29.36, 96.31 15.97, 78.07 0.12 M139.17 42.63 C127.01 32.06, 114.86 21.49, 90.11 -0.02 M139.17 42.63 C126.03 31.2, 112.89 19.78, 90.11 -0.02 M151.21 42.5 C135.49 28.83, 119.78 15.17, 102.16 -0.15 M151.21 42.5 C132.55 26.28, 113.9 10.06, 102.16 -0.15 M163.25 42.36 C152.66 33.16, 142.08 23.95, 114.2 -0.28 M163.25 42.36 C143.78 25.44, 124.32 8.52, 114.2 -0.28 M170.76 38.29 C156.94 26.28, 143.12 14.26, 126.99 0.24 M170.76 38.29 C157 26.33, 143.24 14.36, 126.99 0.24 M172.99 29.63 C164.44 22.2, 155.89 14.76, 139.03 0.11 M172.99 29.63 C161 19.2, 149 8.77, 139.03 0.11 M172.96 19 C164.56 11.7, 156.16 4.4, 151.07 -0.03 M172.96 19 C167.95 14.65, 162.95 10.3, 151.07 -0.03 M172.17 7.71 C169.03 4.99, 165.89 2.26, 163.87 0.5 M172.17 7.71 C169.48 5.38, 166.8 3.04, 163.87 0.5" stroke="#a5d8ff" stroke-width="1" fill="none"/><path d="M10.83 0 C51.72 0, 92.62 0, 161.61 0 M161.61 0 C168.83 0, 172.44 3.61, 172.44 10.83 M172.44 10.83 C172.44 17.29, 172.44 23.76, 172.44 32.48 M172.44 32.48 C172.44 39.7, 168.83 43.31, 161.61 43.31 M161.61 43.31 C106.98 43.31, 52.34 43.31, 10.83 43.31 M10.83 43.31 C3.61 43.31, 0 39.7, 0 32.48 M0 32.48 C0 26.6, 0 20.71, 0 10.83 M0 10.83 C0 3.61, 3.61 0, 10.83 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="8 10"/></g><g transform="translate(485.9487762451172 93.21612548828125) rotate(0 24.469985961914062 12.5)"><text x="24.469985961914062" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Mean</text></g><g stroke-linecap="round"><g transform="translate(570.587890625 45.71734619140625) rotate(0 -30.507232666015625 18.792587280273438)"><path d="M0 0 C-5.09 1.36, -20.4 1.91, -30.57 8.18 C-40.74 14.44, -55.94 32.68, -61.01 37.59" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="8 10"/></g><g transform="translate(570.587890625 45.71734619140625) rotate(0 -30.507232666015625 18.792587280273438)"><path d="M-52.66 18.14 C-54.5 22.42, -56.34 26.7, -61.01 37.59" stroke="#1e1e1e" stroke-width="2.5" fill="none"/></g><g transform="translate(570.587890625 45.71734619140625) rotate(0 -30.507232666015625 18.792587280273438)"><path d="M-42.12 28.05 C-46.28 30.15, -50.44 32.25, -61.01 37.59" stroke="#1e1e1e" stroke-width="2.5" fill="none"/></g></g><mask/><g transform="translate(586.3051147460938 30) rotate(0 41.0999755859375 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">UnLinear</text></g><g transform="translate(37.039093017578125 88.25860595703125) rotate(0 58.835779100935895 21.580047607421875)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="34.52807617187499px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Smooth</text></g><g transform="translate(40.61295136781405 271.5061340332031) rotate(0 39.54264831542969 21.580047607421875)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="34.52807617187499px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Edge</text></g><g stroke-linecap="round"><g transform="translate(30 183.93826293945312) rotate(0 328.1644287109375 0.9700775146484375)"><path d="M0 0 C109.39 0.32, 546.94 1.62, 656.33 1.94" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="8 10"/></g></g><mask/><g stroke-linecap="round"><g transform="translate(689.1336059570312 31.146881103515625) rotate(0 -1.521240234375 181.91090393066406)"><path d="M0 0 C-0.51 60.64, -2.54 303.18, -3.04 363.82" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="8 10"/></g></g><mask/><g transform="translate(731.2171020507812 297.68701171875) rotate(0 110.18992614746094 37.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">img - smooth = edge</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge"/><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">edge + img = enhanced</text></g></svg>()

***

## 卷积

一维卷积：反转，相乘相加。假设有两个一维连续信号进行卷积，公式如下。

$$
(g * f)(t) = \int_{-\infty}^{\infty} f(\tau) h(t - \tau) \, d\tau
$$

二维卷积其实是“相关”，因为缺少了反转的这一步骤，但是由于卷积核大部分都是对称的，所以可以忽略这一条件。所以图像卷积就是对应位置相乘相加！图片的卷积公式如下。

$$
T(x, y) = \sum_{i=-a}^{b} \sum_{j=-a}^{b} I(x + i, y + j) k(i, j)
$$

## 降噪/平滑

### Box

均值滤波器（盒式滤波器），就是某个“方块”内的像素求均值。

$$
k = \frac{1}{mn}\begin{bmatrix} 1&1&...&1\\1&1&...&1\\...&...&...&...\\1&1&...&1\end{bmatrix}_{mn}
$$

<figure>![../../gitbook/assets/image (49).png](/img/user/gitbook/assets/image%20(49).png)()<figcaption></figcaption></figure>

<details>

<summary>Code</summary>

```python
from matplotlib import pyplot as plt
from scipy.ndimage import convolve
import skimage.data as data
import numpy as np

image = data.camera().astype(np.float32)

convolved_image1 = convolve(image, np.ones((3,3))/9.0, mode='reflect')
convolved_image2 = convolve(image, np.ones((5,5))/25.0, mode='reflect')

plt.figure(figsize=(10, 5))
plt.subplot(1, 3, 1)
plt.imshow(image, cmap='gray')
plt.title('Original Image')
plt.axis('off')

plt.subplot(1, 3, 2)
plt.imshow(np.abs(convolved_image1), cmap='gray')
plt.title('Convolved by Box(3,3)')
plt.axis('off')

plt.subplot(1, 3, 3)
plt.imshow(np.abs(convolved_image2), cmap='gray')
plt.title('Convolved by Box(5,5)')
plt.axis('off')

plt.tight_layout()
plt.show()
```

</details>

### Gaussian

Box 太平均了，边缘损失严重，为了提升“保边”效果，进行高斯加权平均。

$$
G(x,y)=\frac{1}{2\pi\sigma^2}e^{-\frac{x^2+y^2}{2\sigma^2}}
$$

$$
W(i,j) = \frac{G(i,j)}{\sum_{i=-a}^{a}\sum_{i=-b}^{b}G(i,j)}
$$

<figure>![../../gitbook/assets/image (50).png](/img/user/gitbook/assets/image%20(50).png)()<figcaption></figcaption></figure>

<details>

<summary>Code</summary>

```python
from matplotlib import pyplot as plt
from scipy.ndimage import convolve
import skimage.data as data
import numpy as np

image = data.camera().astype(np.float32)

k1 = np.array([[1,2,1],[2,4,2],[1,2,1]])
k2 = np.array([[1, 4, 7, 4,1],
               [4,16,26,16,4],
               [7,26,41,26,7],
               [4,16,26,16,4],
               [1, 4, 7, 4,1]])

convolved_image1 = convolve(image, k1, mode='reflect')
convolved_image2 = convolve(image, k2, mode='reflect')

plt.figure(figsize=(10, 5))
plt.subplot(1, 3, 1)
plt.imshow(image, cmap='gray')
plt.title('Original Image')
plt.axis('off')

plt.subplot(1, 3, 2)
plt.imshow(np.abs(convolved_image1), cmap='gray')
plt.title('Convolved by Gaussian(3,3)')
plt.axis('off')

plt.subplot(1, 3, 3)
plt.imshow(np.abs(convolved_image2), cmap='gray')
plt.title('Convolved by Gaussian(5,5)')
plt.axis('off')

plt.tight_layout()
plt.show()
```

</details>

### Mean

以上滤波器均为线性滤波，而中值滤波是一种基于统计的非线性滤波，它是椒盐噪声的“特效药”。

<figure>![../../gitbook/assets/image (51).png](/img/user/gitbook/assets/image%20(51).png)()<figcaption></figcaption></figure>

<details>

<summary>Code</summary>

```python
from matplotlib import pyplot as plt
from skimage import data, util, filters
import numpy as np

image = data.camera()

noisy_image = util.random_noise(image, mode='s&p',rng=None,clip= True)

filtered_image = filters.median(noisy_image)

plt.figure(figsize=(10, 5))
plt.subplot(1, 3, 1)
plt.imshow(image, cmap='gray')
plt.title('Original Image')
plt.axis('off')

plt.subplot(1, 3, 2)
plt.imshow(np.abs(noisy_image), cmap='gray')
plt.title('Noisy Image')
plt.axis('off')

plt.subplot(1, 3, 3)
plt.imshow(filtered_image, cmap='gray')
plt.title('Filtered Image')
plt.axis('off')

plt.tight_layout()
plt.show()
```

</details>

## 边缘

### Roberts

2x2大小的求边缘。

$$
G_x = \begin{bmatrix} -1 & 0 \\ 0 & 1 \end{bmatrix}
$$

$$
G_y = \begin{bmatrix} 0 & -1 \\ 1 & 0 \end{bmatrix}
$$

<figure>![../../gitbook/assets/image (52).png](/img/user/gitbook/assets/image%20(52).png)()<figcaption></figcaption></figure>

<details>

<summary>Code</summary>

```python
from skimage import data, filters
from matplotlib import pyplot as plt
import numpy as np

img = data.camera()

img_robert_pos = filters.roberts_pos_diag(img)
img_robert_neg = filters.roberts_neg_diag(img)
# ROBERTS_PD_WEIGHTS = np.array([[1, 0],
#                                [0, -1]], dtype=np.float64)
# ROBERTS_ND_WEIGHTS = np.array([[0, 1],
#                                [-1, 0]], dtype=np.float64)
img_robert = filters.roberts(img)
# out = np.sqrt(roberts_pos_diag(image, mask) ** 2 +
#                 roberts_neg_diag(image, mask) ** 2)
# out /= np.sqrt(2)

def plot(n,i,title,img):
    plt.subplot(1, n, i+1)
    plt.imshow(np.abs(img), cmap='gray')
    plt.title(title)
    plt.axis('off')

for i,(title,im) in enumerate(zip(
    ['Original Image','Roberts pos','Roberts neg','Roberts'],
    [img,img_robert_pos,img_robert_neg,img_robert])):
    plot(4,i,title,im)

plt.tight_layout()
plt.show()
```

</details>

### Sobel

3x3 大小的边缘

$$
G_x = \begin{bmatrix} -1 & -2 & -1 \\ 0 & 0 & 0 \\ 1 & 2 & 1 \end{bmatrix}
$$

$$
G_y = \begin{bmatrix} -1 & 0 & 1 \\ -2 & 0 & 2 \\ -1 & 0 & 1 \end{bmatrix}
$$

<figure>![../../gitbook/assets/image (53).png](/img/user/gitbook/assets/image%20(53).png)()<figcaption></figcaption></figure>

<details>

<summary>Code</summary>

```python
from skimage import data, filters
from matplotlib import pyplot as plt
import numpy as np

img = data.camera()

img_sobel_h = filters.sobel_h(img)
img_sobel_v = filters.sobel_v(img)
# SOBEL_EDGE = np.array([1, 0, -1])
# SOBEL_SMOOTH = np.array([1, 2, 1]) / 4
# HSOBEL_WEIGHTS = SOBEL_EDGE.reshape((3, 1)) * SOBEL_SMOOTH.reshape((1, 3))
# VSOBEL_WEIGHTS = HSOBEL_WEIGHTS.T
img_sobel = filters.sobel(img)

def plot(n,i,title,img):
    plt.subplot(1, n, i+1)
    plt.imshow(np.abs(img), cmap='gray')
    plt.title(title)
    plt.axis('off')

for i,(title,im) in enumerate(zip(
    ['Original Image','Sobel H','Sobel V','Sobel'],
    [img,img_sobel_h,img_sobel_v,img_sobel])):
    plot(4,i,title,im)

plt.tight_layout()
plt.show()
```

</details>

### Laplacian

Sobel 和 Robert 把 3x3 或者 2x2 的区域当成一个大像素，算这个像素内部的梯度。Laplacian 换了一个角度，找一个 3x3 的区域，算这个区域中心往外的梯度。另外，实践中，尝尝采用中心权重为正的形式，虽然按照梯度公式中心应该是负。

$$
G = \begin{bmatrix} 0 & -1 & 0 \\ -1 & 4 & -1 \\ 0 & -1 & 0 \end{bmatrix}
$$

或者加上四个对角线方向

$$
G = \begin{bmatrix} -1 & -1 & -1 \\ -1 & 8 & -1 \\ -1 & -1 & -1 \end{bmatrix}
$$

另外，可以把边缘加到原图上得到锐化图像。

<figure>![../../gitbook/assets/image (56).png](/img/user/gitbook/assets/image%20(56).png)()<figcaption></figcaption></figure>

<details>

<summary>Code</summary>

{% code fullWidth="false" %}
```python
from skimage import data, filters
from matplotlib import pyplot as plt
import numpy as np

img = data.camera()
lap_img = filters.laplace(img)*255

def plot(n,i,title,img):
    plt.subplot(1, n, i+1)
    plt.imshow(np.abs(img), cmap='gray',vmin=0,vmax=255)
    plt.title(title)
    plt.axis('off')

for i,(title,im) in enumerate(zip(
    ['Original Image','Laplace Edge','Origin+Edge','Origin+2Edge'],
    [img,lap_img,lap_img+img,2*lap_img+img])):
    plot(4,i,title,im)

plt.tight_layout()
plt.show()
```
{% endcode %}

</details>